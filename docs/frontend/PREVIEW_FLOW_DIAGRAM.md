# Preview System Flow Diagram

## ğŸ”„ Complete User Journey

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     USER FLOW DIAGRAM                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 1: User lands on Main Site
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  http://localhost:5175                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   That Smart Site Homepage         â”‚  â”‚
â”‚  â”‚   - Features                       â”‚  â”‚
â”‚  â”‚   - Pricing                        â”‚  â”‚
â”‚  â”‚   - Dev Dashboard                  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Available Industries             â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”    â”‚  â”‚
â”‚  â”‚  â”‚ ğŸš—   â”‚  â”‚ ğŸ    â”‚  â”‚ ğŸŒ±   â”‚    â”‚  â”‚
â”‚  â”‚  â”‚Mobileâ”‚  â”‚ Maid â”‚  â”‚ Lawn â”‚    â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”˜    â”‚  â”‚
â”‚  â”‚      â†“ User clicks                â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
            Navigation to Preview URL

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Redirect to Tenant App                  â”‚
â”‚  http://tenant.localhost:5177/           â”‚
â”‚        mobile-detailing-preview          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
          React Router Match in TenantApp

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  TenantApp.tsx Routes                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ <Route path="/mobile-detailing-   â”‚  â”‚
â”‚  â”‚        preview"                    â”‚  â”‚
â”‚  â”‚        element={<PreviewPage />} />â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
            PreviewPage Component Loads

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PreviewPage.tsx                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ 1. usePreviewParams()              â”‚  â”‚
â”‚  â”‚    - Parses URL                    â”‚  â”‚
â”‚  â”‚    - Extracts industry slug        â”‚  â”‚
â”‚  â”‚    - Returns: "mobile-detailing"   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
              Fetch Mock Data

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  previewMockData.ts                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ getPreviewData('mobile-detailing') â”‚  â”‚
â”‚  â”‚                                    â”‚  â”‚
â”‚  â”‚ Returns:                           â”‚  â”‚
â”‚  â”‚ - businessName: "Elite Auto..."    â”‚  â”‚
â”‚  â”‚ - services: [...]                  â”‚  â”‚
â”‚  â”‚ - reviews: [...]                   â”‚  â”‚
â”‚  â”‚ - faqs: [...]                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
            Render Complete Preview

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Preview Page Rendered                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ‘ï¸ Preview Banner                 â”‚  â”‚
â”‚  â”‚ [Back to Main Site] â†             â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ¨ Hero Section                   â”‚  â”‚
â”‚  â”‚   Elite Auto Detailing             â”‚  â”‚
â”‚  â”‚   Professional Mobile Detailing    â”‚  â”‚
â”‚  â”‚   [Book Now] [Call]               â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ’¼ Services Grid                  â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚  â”‚
â”‚  â”‚  â”‚Basic $89â”‚  â”‚Full $249â”‚        â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â­ Customer Reviews               â”‚  â”‚
â”‚  â”‚  "Absolutely incredible service!"  â”‚  â”‚
â”‚  â”‚  â˜…â˜…â˜…â˜…â˜… - Michael Chen            â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ â“ FAQs                           â”‚  â”‚
â”‚  â”‚  Q: How long does it take?        â”‚  â”‚
â”‚  â”‚  A: 4-6 hours for full detail     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                     â†“
          User Clicks "Back to Main Site"

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Returns to Main Site                    â”‚
â”‚  http://localhost:5175                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ File Structure

```
thatsmartsite/
â”‚
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â””â”€â”€ previews.js ..................... âœ… API endpoints
â”‚   â”œâ”€â”€ utils/
â”‚   â”‚   â””â”€â”€ previewToken.js ................. âœ… JWT utilities
â”‚   â””â”€â”€ server.js ........................... âœ… Route registration
â”‚
â”œâ”€â”€ frontend/
â”‚   â””â”€â”€ apps/
â”‚       â”œâ”€â”€ main-site/
â”‚       â”‚   â””â”€â”€ src/
â”‚       â”‚       â””â”€â”€ components/
â”‚       â”‚           â””â”€â”€ DevDashboard.tsx ..... âœ… Industry links
â”‚       â”‚
â”‚       â””â”€â”€ tenant-app/
â”‚           â””â”€â”€ src/
â”‚               â”œâ”€â”€ components/
â”‚               â”‚   â””â”€â”€ PreviewPage.tsx ...... âœ… Preview renderer
â”‚               â”œâ”€â”€ hooks/
â”‚               â”‚   â””â”€â”€ usePreviewParams.ts .. âœ… URL parser
â”‚               â”œâ”€â”€ data/
â”‚               â”‚   â””â”€â”€ previewMockData.ts ... âœ… Industry data
â”‚               â””â”€â”€ TenantApp.tsx ............ âœ… Route config
â”‚
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ frontend/
â”‚       â”œâ”€â”€ PREVIEW_SYSTEM_SETUP.md .......... ğŸ“š Full guide
â”‚       â””â”€â”€ PREVIEW_FLOW_DIAGRAM.md .......... ğŸ“š This file
â”‚
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ devtools/
â”‚   â”‚   â””â”€â”€ verify-preview-system.js ......... ğŸ§ª Verification
â”‚   â””â”€â”€ setup/
â”‚       â””â”€â”€ setup-hosts-windows.md ........... ğŸ“ Hosts setup
â”‚
â””â”€â”€ PREVIEW_SYSTEM_READY.md .................. ğŸ‰ Summary
```

---

## ğŸ”Œ API Endpoints (Backend)

```
POST /api/previews
â”œâ”€â”€ Purpose: Generate JWT preview token
â”œâ”€â”€ Body: { businessName, phone, city, state, industry }
â””â”€â”€ Response: { success, url, token, expiresIn }

GET /api/previews/verify?t=<token>
â”œâ”€â”€ Purpose: Verify and decode preview token
â”œâ”€â”€ Query: t=<jwt-token>
â””â”€â”€ Response: { success, payload }
```

---

## ğŸ¯ Route Mapping

### Main Site Routes (`localhost:5175`)
```
/                    â†’ HomePage (DevDashboard)
/pricing             â†’ PricingPage
/onboard             â†’ TenantOnboardingPage
/login               â†’ LoginPage
/admin               â†’ AdminRedirect
```

### Tenant App Routes (`tenant.localhost:5177`)
```
/                              â†’ TenantPage (home)
/mobile-detailing-preview      â†’ PreviewPage (mobile detailing)
/maid-service-preview          â†’ PreviewPage (maid service)
/lawncare-preview              â†’ PreviewPage (lawn care)
/pet-grooming-preview          â†’ PreviewPage (pet grooming)
/barber-preview                â†’ PreviewPage (barber shop)
/preview?t=<token>             â†’ PreviewPage (JWT-based)
/dashboard                     â†’ DashboardPage (protected)
/booking                       â†’ BookingApp
```

---

## ğŸ“Š Data Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATA FLOW                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

URL: /mobile-detailing-preview
         â”‚
         â†“
usePreviewParams()
         â”‚
         â”œâ”€> Parse pathname
         â”‚   â””â”€> Extract "mobile-detailing"
         â”‚
         â†“
getPreviewData("mobile-detailing")
         â”‚
         â”œâ”€> Look up in INDUSTRY_PREVIEW_DATA
         â”‚   â””â”€> Return PreviewData object
         â”‚
         â†“
PreviewPage Component
         â”‚
         â”œâ”€> Render Hero (businessName, tagline)
         â”œâ”€> Render Services (services array)
         â”œâ”€> Render Reviews (reviews array)
         â””â”€> Render FAQs (faqs array)
         â”‚
         â†“
   Final HTML/CSS rendered in browser
```

---

## ğŸ¨ Component Hierarchy

```
PreviewPage
  â”œâ”€â”€ Preview Banner
  â”‚   â”œâ”€â”€ "Preview Mode" indicator
  â”‚   â””â”€â”€ "Back to Main Site" link
  â”‚
  â”œâ”€â”€ Hero Section
  â”‚   â”œâ”€â”€ Business name (h1)
  â”‚   â”œâ”€â”€ Tagline (h2)
  â”‚   â”œâ”€â”€ Description (p)
  â”‚   â””â”€â”€ CTA Buttons
  â”‚       â”œâ”€â”€ "Book Now"
  â”‚       â””â”€â”€ "Call {phone}"
  â”‚
  â”œâ”€â”€ Services Section
  â”‚   â””â”€â”€ Services Grid
  â”‚       â”œâ”€â”€ Service Card 1
  â”‚       â”œâ”€â”€ Service Card 2
  â”‚       â”œâ”€â”€ Service Card 3
  â”‚       â””â”€â”€ Service Card 4
  â”‚
  â”œâ”€â”€ Reviews Section
  â”‚   â””â”€â”€ Reviews Grid
  â”‚       â”œâ”€â”€ Review Card 1
  â”‚       â”‚   â”œâ”€â”€ Star Rating
  â”‚       â”‚   â”œâ”€â”€ Review Text
  â”‚       â”‚   â””â”€â”€ Customer Name + Date
  â”‚       â”œâ”€â”€ Review Card 2
  â”‚       â””â”€â”€ Review Card 3
  â”‚
  â”œâ”€â”€ FAQ Section
  â”‚   â””â”€â”€ FAQ List
  â”‚       â”œâ”€â”€ FAQ Item 1
  â”‚       â”‚   â”œâ”€â”€ Question
  â”‚       â”‚   â””â”€â”€ Answer
  â”‚       â”œâ”€â”€ FAQ Item 2
  â”‚       â””â”€â”€ FAQ Item 3
  â”‚
  â”œâ”€â”€ CTA Section
  â”‚   â”œâ”€â”€ "Ready to Get Started?"
  â”‚   â””â”€â”€ Contact Buttons
  â”‚
  â””â”€â”€ Footer
      â”œâ”€â”€ Copyright
      â””â”€â”€ "Powered by That Smart Site"
```

---

## ğŸŒˆ Styling System

```
Color Palette:
â”œâ”€â”€ Primary: Blue (#2563eb)
â”œâ”€â”€ Secondary: Purple (#7c3aed)
â”œâ”€â”€ Accent: Blue-200 (#bfdbfe)
â”œâ”€â”€ Text: Gray-900 (#111827)
â””â”€â”€ Background: Gray-50 (#f9fafb)

Gradients:
â”œâ”€â”€ Hero: from-blue-900 via-blue-800 to-purple-900
â”œâ”€â”€ CTA: from-blue-900 via-blue-800 to-purple-900
â””â”€â”€ Cards: from-gray-50 to-blue-50

Typography:
â”œâ”€â”€ Headings: Font-Bold, Large sizes
â”œâ”€â”€ Body: Font-Normal, Gray-700
â””â”€â”€ Links: Blue-600, Hover effects

Spacing:
â”œâ”€â”€ Sections: py-16 (64px)
â”œâ”€â”€ Cards: p-6 (24px)
â””â”€â”€ Gaps: gap-4 to gap-6
```

---

## ğŸ”„ State Management

```
PreviewPage (Component)
  â”‚
  â””â”€> usePreviewParams() (Hook)
        â”‚
        â”œâ”€> location.pathname (React Router)
        â”œâ”€> location.search (React Router)
        â”‚
        â””â”€> Returns: PreviewParams
              â”œâ”€> mode: 'slug' | 'token' | null
              â”œâ”€> slug?: string
              â”œâ”€> token?: string
              â””â”€> industry?: string
```

**No global state needed!** Everything is URL-driven and computed on render.

---

## âš¡ Performance

- **Zero API calls** - All data is static
- **Fast initial load** - No async operations
- **Small bundle size** - Mock data is tree-shakeable
- **Instant navigation** - Client-side routing
- **No loading states** - Data is always ready

---

## ğŸ” Security

- âœ… Preview banner prevents confusion
- âœ… `X-Robots-Tag: noindex` blocks search engines
- âœ… JWT tokens expire after 7 days
- âœ… Token verification checks issuer/audience
- âœ… No sensitive data in previews
- âœ… Tenant isolation for bound tokens

---

## ğŸŒ Environment Handling

```
Development:
â”œâ”€â”€ Main: localhost:5175
â”œâ”€â”€ Tenant: tenant.localhost:5177
â””â”€â”€ Backend: localhost:3001

Production:
â”œâ”€â”€ Main: thatsmartsite.com
â”œâ”€â”€ Tenant: tenant.thatsmartsite.com
â””â”€â”€ Backend: api.thatsmartsite.com

URLs automatically adapt via environment variables!
```

---

## ğŸ“ˆ Scalability

**Current:** 5 industries  
**Future:** Unlimited industries

**To add industry #6:**
1. Add data to `previewMockData.ts` (5 min)
2. Add route to `TenantApp.tsx` (1 min)
3. Add link to `DevDashboard.tsx` (2 min)

**Total:** ~10 minutes per industry! ğŸš€

---

## âœ¨ Features Checklist

- âœ… URL-based previews (`/industry-preview`)
- âœ… JWT token-based previews (`/preview?t=...`)
- âœ… Preview banner with "Back" link
- âœ… Beautiful gradient design
- âœ… Responsive layout (mobile/tablet/desktop)
- âœ… 5-star review display
- âœ… Service pricing cards
- âœ… FAQ sections
- âœ… Call-to-action buttons
- âœ… Footer with branding
- âœ… SEO meta tags (noindex)
- âœ… Fast loading (no DB)
- âœ… Type-safe (TypeScript)
- âœ… Linter-clean code
- âœ… Production-ready
- âœ… Well-documented

---

**Diagram Version:** 1.0  
**Last Updated:** October 20, 2024  
**Status:** âœ… Complete Implementation

